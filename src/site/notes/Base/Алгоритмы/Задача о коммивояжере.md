---
{"dg-publish":true,"permalink":"/base/algoritmy/zadacha-o-kommivoyazhere/"}
---


У коммивояжера(доставщик) стоят задача посетить определённое число городов так, чтобы  в конце концов вернуться в исходный пункт. **Чаще всего нужно просто найти самый короткий путь из пункта A в пункт Б, при этом объехать определённые (все) города**

В этом и отличие от задач по нахождению самого короткого пути, в них нужно просто найти самый короткий путь и неважно через что он проходит, а в задаче о коммивояжере важно чтобы он посетил определённые города и сделал это самым коротким маршрутом.

Требуется определить наиболее выгодный маршрут объезда. В качестве меры выгодности маршрута (точнее говоря, невыгодности) может служить суммарное время в пути, суммарная стоимость дороги, или, в простейшем случае, **длина маршрута**.

Одно из возможных решений, это перебрать все варианты.

Классификация вариантов задачи.
1. Асимметричная задача коммивояжёра отличается тем, что она моделируется ориентированным графом. Таким образом, следует также учитывать, в каком направлении находятся ребра.
Количество возможных маршрутов: $$(n-1)!$$
C точки зрения О-большого константы игнорируются(убираются)
2. Симметричная задача коммивояжёра отличается тем, что все пары ребер между одними и теми же вершинами имеют одинаковую длину
 Количество возможных маршрутов: $$\frac{(n-1)!}{2}$$
3. Всё в месте
 Все города региона.
 Общая длительность поездки не должна превышать 5 дней.**
 Каждый город можно проезжать сколько угодно раз.
 Общая длина маршрута — как получится.
 Хотелось бы, чтобы общая сумма потраченных денег на дорогу и проживание должна быть минимальной, но на всякий случай возьмём с собой денег с запасом.
 
Возьмём простой случай: у нас есть города и таблица расстояний между ними. Задача — найти самый короткий маршрут посещения всех городов ровно по одному разу, без возвращения в первый город.

1.  Если у нас в таблице 4 города, то вариантов первого выбора у нас тоже 4.
2.  Когда мы выбрали первый город, то у нас есть 3 варианта, в какой город поехать вторым.
3.  Во втором городе у нас вариантов следующего города осталось 2 — третий либо четвёртый.
4.  В третьем городе у нас остаётся всего один вариант, куда поехать для завершения маршрута.

Так как в города мы можем поехать в любой последовательности, то всего у нас получается 4 × 3 × 2 × 1 = 24 варианта маршрута. Это называется факториалов числа, а время выполения называется факториальным.

#Сложность_алгоритма
Время выполнения **O(n!)**
n - количество городов


<p style="text-align: center;">Симметричная задача</p>

![Pasted image 20221225194740.png|300](/img/user/Files/Image/Pasted%20image%2020221225194740.png)
<br>
<p style="text-align: center;">Асимметричная задача</p>

![Pasted image 20221225194703.png|300](/img/user/Files/Image/Pasted%20image%2020221225194703.png)

Возьмём простейший случай, где из 2 городов в качестве начального города выбирается любой.
![Pasted image 20230118160931.png|400](/img/user/Files/Image/Pasted%20image%2020230118160931.png)

Тут имеется всего два возможных маршрута 2!=1*2 

 На первый взгляд может показаться, что это один маршрутю. Разве расстояние СФ>Марин не совпадает с расстоянием Марин>СФ? Не всегда. В некоторых городах (в том числе и в Сан-Франциско) много улиц с односториннм движением, и тогда вам не удается вернуться по тому пути, по которому вы приехали. Иногда приходится проехать линшюю пару миль, чтобы найти выезд на шоссе. Так что эти два маршрута не всегда совпадают

