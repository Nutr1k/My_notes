---
{"dg-publish":true,"permalink":"/base/clr-via-c-sharp/proektirovanie-tipov/ssylochnye-tipy-reference-types/"}
---


Память для ссылочных типов всегда выделяется из **управляемой кучи**, а [[Base/CLR via CSharp/Проектирование типов/Оператор new\|оператор new]] возвращает адрес в памяти, где размещается сам объект. 

Основное отличие значимых типов от ссылочных типов в том, что **объекты значимых типов** всегда передаются по значению, т.е. копируются. (Создаётся независимая копия)
**Объекты ссылочных типов** всегда передаются по ссылке, т.е. передаётся ссылка указывающая на этот объект (теперь две переменные указывают на один объект.)

Главное различие между типами значений и ссылочными типами заключается в том, что значимые типы следуют семантике копирования по значению

При работе со ссылочными типами необходимо учитывать следующие обстоятельства, относящиеся к производительности приложения: 
- память для ссылочных типов всегда выделяется из управляемой кучи; 
- каждый объект, размещаемый в куче, содержит дополнительные члены, подлежащие инициализации; 
- незанятые полезной информацией байты объекта обнуляются (это касается полей); 
- размещение объекта в управляемой куче со временем инициирует сборку мусора.

К ссылочным типам относятся:
- class
- interface
- delegate
- record
- object
- string

В ссылочных типах (class) всем экземплярным поля присваивается null или 0 (нуль) **перед вызовом конструктора типа** 

Когда переменная ссылочного типа создается, ей по умолчанию **присваивается null**, то есть в этот момент она не указывает на действительный объект. Попытка задействовать переменную с таким значением приведет к генерации исключения NullReferenceException.

Когда переменной ссылочного типа присваивается переменная ссылочного типа, копируется только ее адрес.

[Понимание стека и кучи](https://endjin.com/blog/2022/07/understanding-the-stack-and-heap-in-csharp-dotnet)

[Эрик Липперт](https://stackoverflow.com/questions/2565331/fields-of-class-are-they-stored-in-the-stack-or-heap)

[Где хранятся локальные переменные .NET?](https://stackoverflow.com/questions/3822448/where-are-net-local-variables-stored)

[Где локальные переменные фактически размещаются в CLR?](https://stackoverflow.com/questions/47520657/where-does-local-variables-actually-allocated-within-clr)

[Где в памяти хранятся переменные параметров?](https://stackoverflow.com/questions/16304705/where-are-parameter-variables-stored-in-memory)

[Эти параметры метода хранятся в стеке или в куче?](https://stackoverflow.com/questions/57173978/are-these-method-parameters-stored-on-stack-or-heap)

[Где хранятся все статические элементы? [дубликат]](https://stackoverflow.com/questions/38612009/where-are-all-the-static-members-stored)